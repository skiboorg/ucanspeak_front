<script setup lang="ts">
const authStore = useAuthStore()
const {user} = storeToRefs(authStore)
</script>

<template>
<footer class="block md:hidden ">
  <div class="fixed bottom-0 w-full h-[60px] bg-white pt-1 flex items-center justify-evenly border-t border-[#EFEFEF]">
    <NuxtLink class="footer-link flex flex-col items-center justify-center gap-1" exact-active-class="active" active-class="active" to="/courses">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <mask id="path-1-inside-1_53_1391" fill="white">
          <path d="M6 22C5.45 22 4.97933 21.8043 4.588 21.413C4.19667 21.0217 4.00067 20.5507 4 20V4C4 3.45 4.196 2.97933 4.588 2.588C4.98 2.19667 5.45067 2.00067 6 2H18C18.55 2 19.021 2.196 19.413 2.588C19.805 2.98 20.0007 3.45067 20 4V20C20 20.55 19.8043 21.021 19.413 21.413C19.0217 21.805 18.5507 22.0007 18 22H6ZM6 20H18V4H16V11L13.5 9.5L11 11V4H6V20Z"/>
        </mask>
        <path d="M4 20H-14V20.0109L-14 20.0218L4 20ZM6 2V-16H5.98908L5.97816 -16L6 2ZM20 4L2.00001 3.97816L2 3.98908V4H20ZM18 22L18.0218 4.00001L18.0109 4H18V22ZM6 20H-12V38H6V20ZM18 20V38H36V20H18ZM18 4H36V-14H18V4ZM16 4V-14H-2V4H16ZM16 11L6.73908 26.4349L34 42.7914V11H16ZM13.5 9.5L22.7609 -5.93487L13.5 -11.4914L4.23908 -5.93487L13.5 9.5ZM11 11H-7V42.7914L20.2609 26.4349L11 11ZM11 4H29V-14H11V4ZM6 4V-14H-12V4H6ZM6 22V4C7.9074 4 10.0215 4.34983 12.1442 5.2323C14.2647 6.11384 15.9896 7.35871 17.3159 8.68508L4.588 21.413L-8.13992 34.1409C-4.39661 37.8842 0.642722 40 6 40V22ZM4.588 21.413L17.3159 8.68508C18.6424 10.0116 19.8855 11.7347 20.766 13.8507C21.6473 15.9685 21.9977 18.0768 22 19.9782L4 20L-14 20.0218C-13.9935 25.3656 -11.8826 30.3983 -8.13992 34.1409L4.588 21.413ZM4 20H22V4H4H-14V20H4ZM4 4H22C22 5.91139 21.6488 8.02898 20.7638 10.1542C19.8798 12.2769 18.6323 14.0018 17.3051 15.3267L4.588 2.588L-8.12909 -10.1507C-11.8764 -6.40983 -14 -1.36721 -14 4H4ZM4.588 2.588L17.3051 15.3267C15.9845 16.6451 14.2671 17.8846 12.1547 18.7643C10.0394 19.6452 7.92989 19.9977 6.02184 20L6 2L5.97816 -16C0.623506 -15.9935 -4.39915 -13.8743 -8.12909 -10.1507L4.588 2.588ZM6 2V20H18V2V-16H6V2ZM18 2V20C16.0885 20 13.9727 19.6488 11.8502 18.7655C9.73052 17.8834 8.00823 16.6391 6.68508 15.3159L19.413 2.588L32.1409 -10.1399C28.4034 -13.8774 23.3664 -16 18 -16V2ZM19.413 2.588L6.68508 15.3159C5.36208 13.9929 4.11586 12.2689 3.2328 10.1447C2.34837 8.01725 1.99769 5.8957 2.00001 3.97816L20 4L38 4.02184C38.0065 -1.35805 35.8791 -6.40179 32.1409 -10.1399L19.413 2.588ZM20 4H2V20H20H38V4H20ZM20 20H2C2 18.0925 2.34986 15.9802 3.23056 13.8602C4.11022 11.7427 5.35195 10.0205 6.67425 8.69591L19.413 21.413L32.1517 34.1301C35.8852 30.3902 38 25.3565 38 20H20ZM19.413 21.413L6.67425 8.69591C8.00316 7.36474 9.73289 6.11503 11.8607 5.23106C13.9907 4.34623 16.1109 3.9977 18.0218 4.00001L18 22L17.9782 40C23.3472 40.0065 28.4009 37.8873 32.1517 34.1301L19.413 21.413ZM18 22V4H6V22V40H18V22ZM6 20V38H18V20V2H6V20ZM18 20H36V4H18H0V20H18ZM18 4V-14H16V4V22H18V4ZM16 4H-2V11H16H34V4H16ZM16 11L25.2609 -4.43487L22.7609 -5.93487L13.5 9.5L4.23908 24.9349L6.73908 26.4349L16 11ZM13.5 9.5L4.23908 -5.93487L1.73908 -4.43487L11 11L20.2609 26.4349L22.7609 24.9349L13.5 9.5ZM11 11H29V4H11H-7V11H11ZM11 4V-14H6V4V22H11V4ZM6 4H-12V20H6H24V4H6Z" fill="#8F8FA3" mask="url(#path-1-inside-1_53_1391)"/>
      </svg>



      <p>Курсы</p>
    </NuxtLink>
    <NuxtLink class="footer-link flex flex-col items-center justify-center gap-1" exact-active-class="active" active-class="active" to="/courses/trainer">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M8.5 19H8.51" stroke="#8F8FA3" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M13 5H18M13 8H15.5M14 15.999V16.999C14 19.357 14 20.535 13.268 21.268C12.536 22 11.357 22 9 22H8C5.643 22 4.464 22 3.732 21.268C3 20.535 3 19.357 3 16.999V10.999C3 8.641 3 7.462 3.732 6.729C4.352 6.11 5.293 6.015 7 6M10 6V7C10 8.886 10 9.828 10.586 10.414C11.172 11 12.114 11 14 11V13L17 11C18.886 11 19.828 11 20.414 10.414C21 9.828 21 8.886 21 7V6C21 4.114 21 3.172 20.414 2.586C19.828 2 18.886 2 17 2H14C12.114 2 11.172 2 10.586 2.586C10 3.172 10 4.114 10 6Z" stroke="#8F8FA3" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>



      <p>Тренажёр</p>
    </NuxtLink>
    <NuxtLink v-if="user?.last_lesson_url" :to="user?.last_lesson_url" class="footer-link flex flex-col items-center justify-center gap-1" exact-active-class="active" active-class="active">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M12 22C17.523 22 22 17.523 22 12C22 6.477 17.523 2 12 2C6.477 2 2 6.477 2 12C2 17.523 6.477 22 12 22Z" stroke="#8F8FA3" stroke-width="2" stroke-linejoin="round"/>
        <path d="M10 12V8.53601L13 10.268L16 12L13 13.732L10 15.464V12Z" stroke="#8F8FA3" stroke-width="2" stroke-linejoin="round"/>
      </svg>



      <p>Продолжить</p>
    </NuxtLink>
    <NuxtLink v-if="user" class="footer-link flex flex-col items-center justify-center gap-1" exact-active-class="active" active-class="active" to="/profile/favorite">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M12.0017 4.52804C10.8376 3.48411 9.31182 2.93592 7.74946 3.00019C6.1871 3.06447 4.71155 3.73614 3.63705 4.87217C2.56255 6.00819 1.974 7.51881 1.99673 9.08233C2.01946 10.6458 2.65167 12.1387 3.75874 13.243L10.5877 20.071C10.9628 20.446 11.4714 20.6566 12.0017 20.6566C12.5321 20.6566 13.0407 20.446 13.4157 20.071L20.2447 13.243C21.3518 12.1387 21.984 10.6458 22.0067 9.08233C22.0295 7.51881 21.4409 6.00819 20.3664 4.87217C19.2919 3.73614 17.8164 3.06447 16.254 3.00019C14.6917 2.93592 13.1659 3.48411 12.0017 4.52804ZM10.8297 6.17204L11.2947 6.63604C11.4823 6.82351 11.7366 6.92883 12.0017 6.92883C12.2669 6.92883 12.5212 6.82351 12.7087 6.63604L13.1737 6.17204C13.5427 5.79 13.9841 5.48527 14.4721 5.27563C14.9601 5.066 15.485 4.95565 16.0161 4.95104C16.5472 4.94642 17.074 5.04763 17.5656 5.24875C18.0571 5.44988 18.5037 5.74689 18.8793 6.12246C19.2549 6.49803 19.5519 6.94464 19.753 7.43622C19.9541 7.92781 20.0554 8.45453 20.0507 8.98564C20.0461 9.51676 19.9358 10.0416 19.7261 10.5297C19.5165 11.0177 19.2118 11.4591 18.8297 11.828L12.0017 18.657L5.17374 11.828C4.4451 11.0736 4.04193 10.0632 4.05104 9.01443C4.06015 7.96565 4.48083 6.9624 5.22246 6.22076C5.96409 5.47913 6.96734 5.05846 8.01613 5.04934C9.06492 5.04023 10.0753 5.44341 10.8297 6.17204Z" fill="#8F8FA3"/>
      </svg>


      <p>Избранное</p>
    </NuxtLink>
    <NuxtLink v-if="user" class="footer-link flex flex-col items-center justify-center gap-1" exact-active-class="active" active-class="active" to="/profile">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M4 18C4 16.9391 4.42143 15.9217 5.17157 15.1716C5.92172 14.4214 6.93913 14 8 14H16C17.0609 14 18.0783 14.4214 18.8284 15.1716C19.5786 15.9217 20 16.9391 20 18C20 18.5304 19.7893 19.0391 19.4142 19.4142C19.0391 19.7893 18.5304 20 18 20H6C5.46957 20 4.96086 19.7893 4.58579 19.4142C4.21071 19.0391 4 18.5304 4 18Z" stroke="#8F8FA3" stroke-width="2" stroke-linejoin="round"/>
        <path d="M12 10C13.6569 10 15 8.65685 15 7C15 5.34315 13.6569 4 12 4C10.3431 4 9 5.34315 9 7C9 8.65685 10.3431 10 12 10Z" stroke="#8F8FA3" stroke-width="2"/>
      </svg>


      <p>Профиль</p>
    </NuxtLink>
    <NuxtLink v-else class="footer-link flex flex-col items-center justify-center gap-1" exact-active-class="active" active-class="active" to="/auth">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M4 18C4 16.9391 4.42143 15.9217 5.17157 15.1716C5.92172 14.4214 6.93913 14 8 14H16C17.0609 14 18.0783 14.4214 18.8284 15.1716C19.5786 15.9217 20 16.9391 20 18C20 18.5304 19.7893 19.0391 19.4142 19.4142C19.0391 19.7893 18.5304 20 18 20H6C5.46957 20 4.96086 19.7893 4.58579 19.4142C4.21071 19.0391 4 18.5304 4 18Z" stroke="#8F8FA3" stroke-width="2" stroke-linejoin="round"/>
        <path d="M12 10C13.6569 10 15 8.65685 15 7C15 5.34315 13.6569 4 12 4C10.3431 4 9 5.34315 9 7C9 8.65685 10.3431 10 12 10Z" stroke="#8F8FA3" stroke-width="2"/>
      </svg>


      <p>Авторизация</p>
    </NuxtLink>
  </div>
</footer>
</template>

<style lang="sass">
.footer-link
  color: #777788
  p
    font-size: 11px

  &.active
    color: #3333E8
    svg
      path
        stroke: #3333E8
</style>